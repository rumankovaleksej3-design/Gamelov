<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>ChatNet</title>

<style>
body {
  margin: 0;
  font-family: Arial;
  background: #0f172a;
  color: white;
}
nav {
  display: flex;
  justify-content: space-around;
  background: #020617;
  padding: 15px;
}
nav button {
  background: none;
  border: none;
  color: white;
  font-size: 16px;
}
.page {
  display: none;
  padding: 20px;
}
.page.active {
  display: block;
}
input, textarea {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 8px;
  border: none;
}
.post {
  background: #020617;
  padding: 15px;
  margin-bottom: 10px;
  border-radius: 10px;
}
</style>
</head>
<body>

<nav id="nav" style="display:none;">
  <button onclick="show('feed')">–õ–µ–Ω—Ç–∞</button>
  <button onclick="show('chat')">–ß–∞—Ç</button>
  <button onclick="show('profile')">–ü—Ä–æ—Ñ–∏–ª—å</button>
</nav>

<!-- REGISTRATION -->
<div id="auth" class="page active">
  <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
  <input id="username" placeholder="–í–∞—à–µ –∏–º—è">
  <button onclick="register()">–í–æ–π—Ç–∏</button>
</div>

<!-- FEED -->
<div id="feed" class="page">
  <h2>–õ–µ–Ω—Ç–∞</h2>
  <div class="post">üë§ <span id="me"></span>: –ü—Ä–∏–≤–µ—Ç! –Ø –≤ ChatNet üöÄ</div>
</div>

<!-- CHAT -->
<div id="chat" class="page">
  <h2>–ß–∞—Ç</h2>
  <div id="messages"></div>
  <input id="msg" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ">
  <button onclick="send()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</div>

<!-- PROFILE -->
<div id="profile" class="page">
  <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
  <p>–ò–º—è: <b id="profileName"></b></p>
  <button onclick="logout()">–í—ã–π—Ç–∏</button>
</div>

<script>
let user = localStorage.getItem("user");

if (user) start();

function register() {
  const name = document.getElementById("username").value.trim();
  if (!name) return alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è");
  localStorage.setItem("user", name);
  start();
}

function start() {
  user = localStorage.getItem("user");
  document.getElementById("auth").style.display = "none";
  document.getElementById("nav").style.display = "flex";
  document.getElementById("me").innerText = user;
  document.getElementById("profileName").innerText = user;
  show("feed");
}

function logout() {
  localStorage.removeItem("user");
  location.reload();
}

function show(id) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function send() {
  const msg = document.getElementById("msg").value;
  if (!msg) return;
  const div = document.createElement("div");
  div.innerText = user + ": " + msg;
  document.getElementById("messages").appendChild(div);
  document.getElementById("msg").value = "";
}
</script>

</body>
</html>
